build:  # compiles the static HTML files
	@cp ../docs/CNAME ../CNAME
	@rm -rf ../docs
	@(cd website && yarn run build)
	@mv website/build/prettifier ../docs
	@echo "This directory contains the source code for the https://kevgo.github.io/prettifier website." > ../docs/README.md
	@echo "This file is auto-generated by the 'make build' script in website/Makefile." >> ../docs/README.md
	@mv ../CNAME ../docs/
	@(cd .. && make --no-print-directory fix)

help:   # shows all available Make commands
	@cat Makefile | grep '^[^ ]*:' | grep -v '.PHONY' | grep -v help | sed 's/:.*#/#/' | column -s "#" -t

setup:
	@(cd website && yarn)

start:  # runs the local development server
	@(cd website && yarn start)
